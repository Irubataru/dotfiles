- name: Install fzf, ripgrep (pacman)
  pacman:
    name:
      - fzf
      - ripgrep
    state: present
  become: true
  when:
    - install
    - package_manager == "pacman"

- name: Install fzf, ripgrep (apt)
  apt:
    name: 
      - fzf
      # - ripgrep
    state: present
  become: true
  when:
    - install
    - package_manager == "apt"

- name: Install thefuck, bpytop, dtrx (pip)
  pip:
    name:
      - thefuck
      - bpytop
      - dtrx
    extra_args: --user
    state: latest
  environment:
    PIP_BREAK_SYSTEM_PACKAGES: 1
  when: install

- name: Install lsd (cargo)
  shell: 
    cmd: cargo install lsd
  ignore_errors: true
  when: install

- name: Install fd (cargo)
  shell: 
    cmd: cargo install fd-find
  ignore_errors: true
  when: install

- name: Install cargo-update (cargo)
  shell: 
    cmd: cargo install cargo-update
  ignore_errors: true
  when: install

- import_tasks: bat.yml
